================================================================================
Django interpolation
================================================================================

{{ foo }}

--------------------------------------------------------------------------------

(document
  (django_interpolation
    (filter_expression
      (primary_expression
        (lookup
          (identifier))))))

================================================================================
Django filter pipelines
================================================================================

{{ foo.bar|lower:"x"|default:42 }}

--------------------------------------------------------------------------------

(document
  (django_interpolation
    (filter_expression
      (primary_expression
        (lookup
          (identifier)
          (identifier)))
      (filter_call
        (filter_name)
        (filter_argument
          (literal
            (string))))
      (filter_call
        (filter_name)
        (filter_argument
          (literal
            (number)))))))

================================================================================
Django line comment
================================================================================

{# This is a comment #}

--------------------------------------------------------------------------------

(document
  (django_line_comment))

================================================================================
Django block comment
================================================================================

{% comment %}
ignored content {{ var }}
{% endcomment %}

--------------------------------------------------------------------------------

(document
  (django_block_comment))

================================================================================
Django if statement
================================================================================

{% if condition %}yes{% endif %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_if_block
      (django_if_open
        (test_expression
          (or_expression
            (and_expression
              (not_expression
                (comparison_expression
                  (filter_expression
                    (primary_expression
                      (lookup
                        (identifier))))))))))
      (text)
      (django_endif))))

================================================================================
Django if-elif-else
================================================================================

{% if a %}A{% elif b %}B{% else %}C{% endif %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_if_block
      (django_if_open
        (test_expression
          (or_expression
            (and_expression
              (not_expression
                (comparison_expression
                  (filter_expression
                    (primary_expression
                      (lookup
                        (identifier))))))))))
      (text)
      (django_elif_branch
        (django_elif
          (test_expression
            (or_expression
              (and_expression
                (not_expression
                  (comparison_expression
                    (filter_expression
                      (primary_expression
                        (lookup
                          (identifier))))))))))
        (text))
      (django_else_branch
        (django_else)
        (text))
      (django_endif))))

================================================================================
Django for loop
================================================================================

{% for item in items %}{{ item }}{% endfor %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_for_block
      (django_for_open
        (loop_variables
          (identifier))
        (filter_expression
          (primary_expression
            (lookup
              (identifier)))))
      (django_interpolation
        (filter_expression
          (primary_expression
            (lookup
              (identifier)))))
      (django_endfor))))

================================================================================
Django for loop with empty
================================================================================

{% for item in items %}{{ item }}{% empty %}No items{% endfor %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_for_block
      (django_for_open
        (loop_variables
          (identifier))
        (filter_expression
          (primary_expression
            (lookup
              (identifier)))))
      (django_interpolation
        (filter_expression
          (primary_expression
            (lookup
              (identifier)))))
      (django_empty_branch
        (django_empty)
        (text))
      (django_endfor))))

================================================================================
Django with block
================================================================================

{% with foo=bar %}{{ foo }}{% endwith %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_with_block
      (django_with_open
        (with_assignments
          (assignment
            (identifier)
            (filter_expression
              (primary_expression
                (lookup
                  (identifier)))))))
      (django_interpolation
        (filter_expression
          (primary_expression
            (lookup
              (identifier)))))
      (django_endwith))))

================================================================================
Django extends tag
================================================================================

{% extends "base.html" %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_extends_tag
      (filter_expression
        (primary_expression
          (literal
            (string)))))))

================================================================================
Django block tag
================================================================================

{% block content %}Hello{% endblock %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_block_block
      (django_block_open
        (identifier))
      (text)
      (django_endblock))))

================================================================================
Django include tag
================================================================================

{% include "partial.html" %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_include_tag
      (filter_expression
        (primary_expression
          (literal
            (string)))))))

================================================================================
Django load tag
================================================================================

{% load static %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_load_tag
      (library_name))))

================================================================================
Django url tag
================================================================================

{% url "view-name" pk=object.pk %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_url_tag
      (filter_expression
        (primary_expression
          (literal
            (string))))
      (named_argument
        (identifier)
        (filter_expression
          (primary_expression
            (lookup
              (identifier)
              (identifier))))))))

================================================================================
Django csrf token
================================================================================

{% csrf_token %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_csrf_token_tag)))

================================================================================
Django verbatim block
================================================================================

{% verbatim %}{{ not parsed }}{% endverbatim %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_verbatim_block
      (text))))

================================================================================
Django autoescape block
================================================================================

{% autoescape off %}{{ html }}{% endautoescape %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_autoescape_block
      (django_interpolation
        (filter_expression
          (primary_expression
            (lookup
              (identifier))))))))

================================================================================
Django filter block
================================================================================

{% filter upper %}text{% endfilter %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_filter_block
      (filter_chain
        (filter_call
          (filter_name)))
      (text))))

================================================================================
Django spaceless block
================================================================================

{% spaceless %}<p> text </p>{% endspaceless %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_spaceless_block
      (element
        (normal_element
          (tag_name)
          (text)
          (end_tag
            (tag_name)))))))

================================================================================
Django generic tag
================================================================================

{% static "file.css" %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_generic_tag
      (generic_tag_name
        (identifier))
      (filter_expression
        (primary_expression
          (literal
            (string)))))))

================================================================================
Django generic block
================================================================================

{% cache 500 sidebar %}content{% endcache %}

--------------------------------------------------------------------------------

(document
  (django_statement
    (django_generic_block
      (generic_tag_name
        (identifier))
      (filter_expression
        (primary_expression
          (literal
            (number))))
      (filter_expression
        (primary_expression
          (lookup
            (identifier))))
      (text)
      (end_tag_name))))
